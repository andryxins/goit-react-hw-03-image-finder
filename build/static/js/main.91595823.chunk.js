(this["webpackJsonptask-2"]=this["webpackJsonptask-2"]||[]).push([[0],{11:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2bkPr"}},12:function(e,a,t){e.exports={Overlay:"ModalWindow_Overlay__zwm2Z",Modal:"ModalWindow_Modal__3mVN0"}},24:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},27:function(e,a,t){e.exports={loaderWrapper:"ReactLoader_loaderWrapper__1TbuE"}},28:function(e,a,t){e.exports={Button:"ButtonLoadMore_Button__AFwIW"}},30:function(e,a,t){e.exports=t(76)},35:function(e,a,t){},4:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__8f9cn",SearchFormInput:"Searchbar_SearchFormInput__VhsfU"}},76:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(23),o=t.n(c),l=(t(35),t(36),t(3)),s=t.n(l),u=t(13),i=t(29),m=t(5),h=t(6),p=t(7),d=t(9),g=t(8),f=t(10),y=t(78),v=t(4),b=t.n(v),I=function(e){var a=e.searchValue,t=e.handleChange,n=e.handleSubmit;return r.a.createElement("header",{className:b.a.Searchbar},r.a.createElement("form",{onSubmit:n,className:b.a.SearchForm},r.a.createElement("button",{type:"submit",className:b.a.SearchFormButton},r.a.createElement("span",{className:b.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{onChange:t,className:b.a.SearchFormInput,value:a,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})))},_=t(11),S=t.n(_),E=function(e){var a=e.imagesArr,t=e.onOpenModalClick;return r.a.createElement(r.a.Fragment,null,a.map((function(e){var a=e.id,n=e.webformatURL,c=e.tags;return r.a.createElement("li",{onClick:function(){return t(a)},key:a,className:S.a.ImageGalleryItem},r.a.createElement("img",{src:n,alt:c,className:S.a.ImageGalleryItemImage}))})))},k=t(24),O=t.n(k),M=function(e){var a=e.images,t=e.onOpenModal;return r.a.createElement("ul",{className:O.a.ImageGallery},r.a.createElement(E,{imagesArr:a,onOpenModalClick:t}))},w=t(25),L=t.n(w),j=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("https://pixabay.com/api/?q=".concat(a,"&page=").concat(t,"&key=").concat("14909867-6a36d78d4fd06c8c8edd1f81f","&image_type=photo&orientation=horizontal&per_page=").concat(12));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),C=t(26),B=t.n(C),F=t(27),N=t.n(F),x=function(){return r.a.createElement("div",{className:N.a.loaderWrapper},r.a.createElement(B.a,{type:"ThreeDots",color:"#ff5588",height:150,width:150}))},G=t(1),R=t.n(G),W=t(28),A=t.n(W),P=function(e){var a=e.btnAction;return r.a.createElement("button",{onClick:a,type:"button",className:A.a.Button},"Load More")};P.propType={btnAction:R.a.func};var D=P,T=t(12),Q=t.n(T),U=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(c)))).overLayRef=r.a.createRef(),t.closeByEsc=function(e){var a=t.props.onClose;"Escape"===e.code&&a()},t.closeByClick=function(e){var a=t.props.onClose;e.target===e.currentTarget&&a()},t}return Object(f.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){this.overLayRef.current.addEventListener("click",this.closeByClick),window.addEventListener("keyup",this.closeByEsc)}},{key:"componentWillUnmount",value:function(){this.overLayRef.current.removeEventListener("click",this.closeByClick),window.removeEventListener("keyup",this.closeByEsc)}},{key:"render",value:function(){var e=this.props.openImg;return r.a.createElement("div",{ref:this.overLayRef,className:Q.a.Overlay},r.a.createElement("div",{className:Q.a.Modal},r.a.createElement("img",{src:e,alt:""})))}}]),a}(n.Component);U.defaultProps={openImg:""};var V=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(r)))).state={currentImages:[],currentPage:1,curentSearchQuery:"",isLoading:!1,isOpenModal:!1,modalImg:""},t.handleChange=function(e){var a=e.target.value;t.setState({curentSearchQuery:a})},t.closeModal=function(){t.setState({isOpenModal:!1})},t.openModal=function(e){var a=t.state.currentImages.find((function(a){return a.id===e}));t.setState({isOpenModal:!0,modalImg:a.largeImageURL})},t.loadImages=Object(m.a)(s.a.mark((function e(){var a,n,r,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state,n=a.currentPage,r=a.curentSearchQuery,t.setState((function(e){return{isLoading:!e.isLoading}})),e.next=4,j(r,n);case 4:c=e.sent,o=c.data.hits,l=o.map((function(e){return Object(i.a)({},e,{id:Object(y.a)()})})),t.setState((function(e){return{currentImages:[].concat(Object(u.a)(e.currentImages),Object(u.a)(l)),currentPage:e.currentPage+=1,isLoading:!1}}));case 8:case"end":return e.stop()}}),e)}))),t.handleLoadMore=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadImages();case 2:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 3:case"end":return e.stop()}}),e)}))),t.handleMakeNewResponce=function(e){e.preventDefault(),t.reset(),t.loadImages()},t}return Object(f.a)(a,e),Object(p.a)(a,[{key:"reset",value:function(){this.setState({currentImages:[],currentPage:1})}},{key:"render",value:function(){var e=this.state,a=e.currentImages,t=e.curentSearchQuery,n=e.isLoading,c=e.isOpenModal,o=e.modalImg;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{searchValue:t,handleChange:this.handleChange,handleSubmit:this.handleMakeNewResponce}),r.a.createElement("main",{className:"mainWrapper"},a.length>0&&r.a.createElement(M,{onOpenModal:this.openModal,images:a,handleLoadMore:this.loadImages}),c&&r.a.createElement(U,{openImg:o,onClose:this.closeModal}),n?r.a.createElement(x,null):0!==a.length&&r.a.createElement(D,{btnAction:this.handleLoadMore})))}}]),a}(n.Component);o.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.91595823.chunk.js.map