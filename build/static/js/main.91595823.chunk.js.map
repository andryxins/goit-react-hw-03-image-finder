{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ModalWindow/ModalWindow.module.css","components/ImageGallery/ImageGallery.module.css","components/ReactLoader/ReactLoader.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/responceApi.js","components/ReactLoader/ReactLoader.js","components/ButtonLoadMore/ButtonLoadMore.js","components/ModalWindow/ModalWindow.js","App.js","index.js"],"names":["module","exports","Searchbar","searchValue","handleChange","handleSubmit","className","Styles","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","value","autoComplete","autoFocus","placeholder","ImageGalleryItem","imagesArr","onOpenModalClick","map","id","webformatURL","tags","onClick","key","src","alt","ImageGalleryItemImage","ImageGallery","images","onOpenModal","responceApi","query","pageNumber","a","axios","get","responce","ReactLoader","loaderWrapper","color","height","width","ButtonLoadMore","btnAction","Button","propType","PropTypes","func","ModalWindow","overLayRef","React","createRef","closeByEsc","e","onClose","props","code","closeByClick","target","currentTarget","this","current","addEventListener","window","removeEventListener","openImg","ref","Overlay","Modal","Component","defaultProps","App","state","currentImages","currentPage","curentSearchQuery","isLoading","isOpenModal","modalImg","setState","closeModal","openModal","handleOpenImg","find","item","largeImageURL","loadImages","prev","hits","data","hitsWithCastomId","uuidv4","handleLoadMore","scrollTo","top","document","documentElement","scrollHeight","behavior","handleMakeNewResponce","preventDefault","reset","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.91595823.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"ModalWindow_Overlay__zwm2Z\",\"Modal\":\"ModalWindow_Modal__3mVN0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderWrapper\":\"ReactLoader_loaderWrapper__1TbuE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ButtonLoadMore_Button__AFwIW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './Searchbar.module.css';\n\nconst Searchbar = ({ searchValue, handleChange, handleSubmit }) => (\n  <header className={Styles.Searchbar}>\n    <form onSubmit={handleSubmit} className={Styles.SearchForm}>\n      <button type=\"submit\" className={Styles.SearchFormButton}>\n        <span className={Styles.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        onChange={handleChange}\n        className={Styles.SearchFormInput}\n        value={searchValue}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  </header>\n);\n\nSearchbar.propTypes = {\n  searchValue: PropTypes.string,\n  handleChange: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ imagesArr, onOpenModalClick }) => (\n  <>\n    {imagesArr.map(({ id, webformatURL, tags }) => (\n      <li\n        onClick={() => onOpenModalClick(id)}\n        key={id}\n        className={Styles.ImageGalleryItem}\n      >\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={Styles.ImageGalleryItemImage}\n        />\n      </li>\n    ))}\n  </>\n);\n\nImageGalleryItem.propTypes = {\n  imagesArr: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n    }).isRequired,\n  ),\n  onOpenModalClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onOpenModal }) => (\n  <ul className={Styles.ImageGallery}>\n    <ImageGalleryItem imagesArr={images} onOpenModalClick={onOpenModal} />\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onOpenModal: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import axios from 'axios';\n\nconst KEY_KEY = '14909867-6a36d78d4fd06c8c8edd1f81f';\nconst QANTITY_PER_PAGE = 12;\n\nexport const responceApi = async (query, pageNumber) => {\n  const responce = await axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=${KEY_KEY}&image_type=photo&orientation=horizontal&per_page=${QANTITY_PER_PAGE}`,\n  );\n\n  return responce;\n};\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport Styles from './ReactLoader.module.css';\n\nconst ReactLoader = () => (\n  <div className={Styles.loaderWrapper}>\n    <Loader type=\"ThreeDots\" color=\"#ff5588\" height={150} width={150} />\n  </div>\n);\n\nexport default ReactLoader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './ButtonLoadMore.module.css';\n\nconst ButtonLoadMore = ({ btnAction }) => (\n  <button onClick={btnAction} type=\"button\" className={Styles.Button}>\n    Load More\n  </button>\n);\n\nButtonLoadMore.propType = {\n  btnAction: PropTypes.func,\n};\n\nexport default ButtonLoadMore;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './ModalWindow.module.css';\n\nexport default class ModalWindow extends Component {\n  static defaultProps = {\n    openImg: '',\n  };\n\n  static propTypes = {\n    openImg: PropTypes.string,\n  };\n\n  overLayRef = React.createRef();\n\n  closeByEsc = e => {\n    const { onClose } = this.props;\n\n    if (e.code === 'Escape') onClose();\n  };\n\n  closeByClick = e => {\n    const { onClose } = this.props;\n\n    if (e.target !== e.currentTarget) return;\n    onClose();\n  };\n\n  componentDidMount() {\n    const { current } = this.overLayRef;\n\n    current.addEventListener('click', this.closeByClick);\n    window.addEventListener('keyup', this.closeByEsc);\n  }\n\n  componentWillUnmount() {\n    const { current } = this.overLayRef;\n\n    current.removeEventListener('click', this.closeByClick);\n    window.removeEventListener('keyup', this.closeByEsc);\n  }\n\n  render() {\n    const { openImg } = this.props;\n    return (\n      <div ref={this.overLayRef} className={Styles.Overlay}>\n        <div className={Styles.Modal}>\n          <img src={openImg} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport { responceApi } from './services/responceApi';\nimport ReactLoader from './components/ReactLoader/ReactLoader';\nimport ButtonLoadMore from './components/ButtonLoadMore/ButtonLoadMore';\nimport ModalWindow from './components/ModalWindow/ModalWindow';\n\nexport default class App extends Component {\n  state = {\n    currentImages: [],\n    currentPage: 1,\n    curentSearchQuery: '',\n    isLoading: false,\n    isOpenModal: false,\n    modalImg: '',\n  };\n\n  handleChange = e => {\n    const { value } = e.target;\n\n    this.setState({\n      curentSearchQuery: value,\n    });\n  };\n\n  reset() {\n    this.setState({\n      currentImages: [],\n      currentPage: 1,\n    });\n  }\n\n  closeModal = () => {\n    this.setState({ isOpenModal: false });\n  };\n\n  openModal = id => {\n    const { currentImages } = this.state;\n\n    const handleOpenImg = currentImages.find(item => item.id === id);\n    this.setState({\n      isOpenModal: true,\n      modalImg: handleOpenImg.largeImageURL,\n    });\n  };\n\n  loadImages = async () => {\n    const { currentPage, curentSearchQuery } = this.state;\n\n    this.setState(prev => ({ isLoading: !prev.isLoading }));\n\n    const responce = await responceApi(curentSearchQuery, currentPage);\n    const { hits } = responce.data;\n    const hitsWithCastomId = hits.map(item => ({ ...item, id: uuidv4() }));\n\n    this.setState(prev => ({\n      currentImages: [...prev.currentImages, ...hitsWithCastomId],\n      currentPage: (prev.currentPage += 1),\n      isLoading: false,\n    }));\n  };\n\n  handleLoadMore = async () => {\n    await this.loadImages();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleMakeNewResponce = e => {\n    e.preventDefault();\n    this.reset();\n    this.loadImages();\n  };\n\n  render() {\n    const {\n      currentImages,\n      curentSearchQuery,\n      isLoading,\n      isOpenModal,\n      modalImg,\n    } = this.state;\n    return (\n      <>\n        <Searchbar\n          searchValue={curentSearchQuery}\n          handleChange={this.handleChange}\n          handleSubmit={this.handleMakeNewResponce}\n        />\n        <main className=\"mainWrapper\">\n          {currentImages.length > 0 && (\n            <ImageGallery\n              onOpenModal={this.openModal}\n              images={currentImages}\n              handleLoadMore={this.loadImages}\n            />\n          )}\n\n          {isOpenModal && (\n            <ModalWindow openImg={modalImg} onClose={this.closeModal} />\n          )}\n\n          {isLoading ? (\n            <ReactLoader />\n          ) : (\n            currentImages.length !== 0 && (\n              <ButtonLoadMore btnAction={this.handleLoadMore} />\n            )\n          )}\n        </main>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}